{"ast":null,"code":"import _classCallCheck from \"/home/jwang/moviedb/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jwang/moviedb/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jwang/moviedb/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jwang/moviedb/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jwang/moviedb/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jwang/moviedb/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jwang/moviedb/src/App.js\";\nimport React, { Component } from 'react'; //import logo from './logo.svg';\n\nimport './App.css';\nimport MovieList from './MovieList/MovieList.js';\nimport $ from 'jquery';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport debounce from 'lodash/debounce';\nimport HomePage from './HomePage/HomePage.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      searchReturned: false\n    };\n    _this.results = [];\n    _this.search = debounce(_this.search.bind(_assertThisInitialized(_assertThisInitialized(_this))), 300); // this.performSearch(\"Avengers\");\n\n    console.log(debounce);\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"performSearch\",\n    value: function performSearch(searchTerm) {\n      var _this2 = this;\n\n      console.log(\"Perform search movie db\");\n      var urlString = \"https://api.themoviedb.org/3/search/movie?api_key=ddb907d69f1671fabdfd75c40b664a37&query=\" + searchTerm;\n      $.ajax({\n        url: urlString,\n        success: function success(searchResults) {\n          console.log(\"Fetched data successfully\");\n          console.log(\"**** searchResults: \", searchResults);\n          _this2.results = searchResults.results; //console.log(results[0])\n\n          _this2.results.sort(function (a, b) {\n            return parseFloat(b.vote_average) - parseFloat(a.vote_average);\n          });\n\n          _this2.setState({\n            searchReturned: true\n          });\n        },\n        error: function error(xhr, status, err) {\n          console.error(\"Failed to fetch data\");\n        }\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search(searchTerm) {\n      if (!searchTerm) return this.setState({\n        searchReturned: false\n      });\n      this.performSearch(searchTerm);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var content = this.state.searchReturned ? React.createElement(MovieList, {\n        results: this.results,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \" \") : React.createElement(HomePage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \" \");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"titleBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"app icon\",\n        width: \"50\",\n        src: \"green_app_icon.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        width: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"MoviesDB Search\"))))), React.createElement(\"input\", {\n        className: \"form-control\",\n        onChange: function onChange(e) {\n          return _this3.search(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), content);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/jwang/moviedb/src/App.js"],"names":["React","Component","MovieList","$","debounce","HomePage","App","props","state","searchReturned","results","search","bind","console","log","searchTerm","urlString","ajax","url","success","searchResults","sort","a","b","parseFloat","vote_average","setState","error","xhr","status","err","performSearch","content","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport MovieList from './MovieList/MovieList.js';\nimport $ from 'jquery';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport debounce from 'lodash/debounce';\nimport HomePage from './HomePage/HomePage.js'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchReturned : false\n    };\n    this.results = [];\n    this.search = debounce(this.search.bind(this), 300);\n    // this.performSearch(\"Avengers\");\n    console.log(debounce);\n  }\n\n  performSearch(searchTerm) {\n\n    console.log(\"Perform search movie db\");\n    const urlString = \"https://api.themoviedb.org/3/search/movie?api_key=ddb907d69f1671fabdfd75c40b664a37&query=\" + searchTerm;\n    $.ajax({\n      url: urlString,\n      success: (searchResults) => {\n        console.log(\"Fetched data successfully\");\n        console.log(\"**** searchResults: \",searchResults);\n        this.results = searchResults.results;\n        //console.log(results[0])\n        this.results.sort((a, b) => parseFloat(b.vote_average) - parseFloat(a.vote_average));\n        this.setState({searchReturned: true});\n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\");\n      }\n    });\n  }\n\n  search(searchTerm){\n    if (!searchTerm)\n      return this.setState({searchReturned: false});\n    this.performSearch(searchTerm);\n  }\n\n  render() {\n    const content = this.state.searchReturned ?\n              <MovieList results={this.results}> </MovieList>:\n              <HomePage> </HomePage>;\n    return (\n      <div>\n\n        <table className=\"titleBar\">\n          <tbody>\n            <tr>\n              <td>\n                <img alt=\"app icon\" width=\"50\" src=\"green_app_icon.svg\"/>\n              </td>\n              <td width=\"8\"/>\n              <td>\n                <h1>MoviesDB Search</h1>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n          <input className=\"form-control\" onChange={(e) => this.search(e.target.value)} type=\"text\" placeholder=\"Search\"/>\n\n          {content}\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}